# 音声会話システム 完成版
作成日: 2025年8月28日

## ✅ システム構成

### 稼働中のコンポーネント
1. **MCPサーバー** (~/mcp-voice-server.js)
   - HTTP: http://localhost:3456
   - WebSocket: ws://localhost:3457
   - 音声入出力API提供

2. **vコマンド** (~/v)
   - シンプルな音声会話インターフェース
   - jq不要で動作

## 🎯 使い方

### 基本コマンド: `v`

#### 1. 音声入力
```bash
v
# または
v listen
```
- fnキーを2回押して話す
- 音声がテキストに変換される

#### 2. テキスト読み上げ
```bash
v talk こんにちは、テストです
# または
v t こんにちは
```

#### 3. サーバーステータス確認
```bash
v status
# または
v s
```

## 💬 効率的な会話フロー

### 方法1: 基本的な使い方
1. 音声入力: `v`
2. 入力内容が表示される
3. その内容を私に送信
4. 私の返答を読み上げ: `v talk [返答内容]`

### 方法2: クリップボード連携
音声入力の結果は自動的にクリップボードにコピーできます。
ペーストして私に送信し、私の返答をコピーして読み上げることも可能です。

## 🚀 サーバー起動

MCPサーバーが停止している場合:
```bash
# バックグラウンドで起動
node ~/mcp-voice-server.js &

# または起動スクリプト使用
~/start-voice-mcp.sh
```

## 📝 その他のスクリプト

### voice-claude.sh (jq必要)
より高度な機能を持つクライアント:
- `voice talk` - テキスト読み上げ
- `voice listen` - 音声入力
- `voice chat` - 会話モード
- `voice status` - ステータス

### エイリアス設定済み
`.bash_profile`に以下のエイリアスが設定されています:
- `v` - 基本音声コマンド
- `vt` - テキスト読み上げ
- `vl` - 音声入力
- `mcp-voice` - サーバー起動

## ✨ 達成したこと

1. ✅ MCPプロトコルベースの音声サーバー構築
2. ✅ HTTP/WebSocket両対応
3. ✅ シンプルなvコマンドで音声入出力
4. ✅ 日本語音声合成（Kyoko音声）
5. ✅ macOS音声認識統合
6. ✅ 効率的な音声会話が可能

## 🎤 今すぐ試す

```bash
# 音声で話しかける
v

# 私の返答を読み上げる
v talk "返答内容をここに"
```

これで、あなたと私の間で効率的な音声会話が実現できました！