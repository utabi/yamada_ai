# Claude Voice CLI - 音声対話インターフェース
作成日: 2025年8月28日

## 🎯 概要
あなたのアイデアを実装した音声対話CLIアプリケーションです。

### 特徴
- **Talk Mode**: テキストを入力すると読み上げる
- **Voice Input**: 音声入力してテキスト化
- **自動通知**: 音声入力した内容をデスクトップファイルで通知

## 🚀 起動方法

### 方法1: コマンド（推奨）
```bash
v
```
または
```bash
talk
```

### 方法2: 直接起動
```bash
python3 ~/claude_voice_cli.py
```

## 📱 使い方

### 起動後の画面
```
============================================================
 Claude Voice CLI - 音声対話インターフェース
============================================================

コマンド:
  [t] Talk Mode - テキストを入力して読み上げ
  [v] Voice Input - 音声入力モード
  [r] Repeat Last - 最後のメッセージを再生
  [c] Clear - 画面クリア
  [q] Quit - 終了

------------------------------------------------------------

コマンド> 
```

## 🎤 主要機能

### 1. Talk Mode (テキスト読み上げ)
1. `t` を入力してEnter
2. 読み上げたいテキストを入力
3. 空行で終了
4. Kyoko音声で読み上げ

**使用例:**
```
コマンド> t
📝 Talk Mode (空行で終了)
テキストを入力してください:
こんにちは、Claudeです
音声対話システムのテストです

🔊 読み上げ中: こんにちは、Claudeです
音声対話システムのテストです
```

### 2. Voice Input (音声入力)
1. `v` を入力してEnter
2. Enterキーを押して録音開始
3. ダイアログが表示される
4. fnキー2回押して音声入力
5. 話す
6. 「送信」をクリック

**結果:**
- 認識したテキストが画面に表示
- `~/Desktop/CLAUDE_VOICE_INPUT.txt` に保存
- このファイルを監視してClaudeに通知

### 3. Repeat (再生)
- `r` を入力: 最後のメッセージを再生

## 🔄 Claudeとの連携方法

### 現在の連携方法
1. **Voice Inputで音声入力**
2. **デスクトップに `CLAUDE_VOICE_INPUT.txt` が作成される**
3. **このファイルの内容をコピー**
4. **Claudeに貼り付け**

### 自動連携の可能性
- MCPサーバーとして実装可能
- ファイル監視による自動通知
- WebSocket連携

## 📁 ファイル構成

### メインファイル
- `~/claude_voice_cli.py` - CLIアプリ本体
- `~/voice_cli_launcher.sh` - 起動スクリプト

### 出力ファイル
- `~/Desktop/CLAUDE_VOICE_INPUT.txt` - 音声入力結果
- `~/Desktop/claude_voice_output.txt` - 出力保存
- `~/Documents/claude_voice_cli.log` - ログファイル

## ⚙️ カスタマイズ

### 音声の変更
`claude_voice_cli.py` の以下の行を編集:
```python
self.voice = "Kyoko"  # 日本語音声
```

他の音声オプション:
- `"Kyoko"` - 日本語女性
- `"Otoya"` - 日本語男性
- `"Samantha"` - 英語女性

### 読み上げ速度
```python
self.speak(text, speed=200)  # 速度を変更
```

## 🔧 トラブルシューティング

### 音声入力が動作しない
1. システム環境設定で音声入力を有効化
2. fnキー2回押しの設定を確認

### 読み上げが聞こえない
1. 音量を確認
2. `say`コマンドが動作するか確認:
   ```bash
   say -v Kyoko "テスト"
   ```

## 💡 今後の拡張案

### MCP統合
- MCPサーバーとして実装
- Claudeから直接音声コマンド送信
- 双方向リアルタイム通信

### 機能追加
- 音声コマンドの認識
- 会話履歴の保存
- 複数言語対応

## 📝 まとめ

要望通りの音声対話CLIアプリを作成しました：
- ✅ Talk Modeでテキスト読み上げ
- ✅ Voice Inputで音声入力
- ✅ デスクトップファイルで通知

コマンド `v` または `talk` で起動できます！