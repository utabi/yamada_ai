<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaomoji Theater - È°îÊñáÂ≠óÂäáÂ†¥</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #1a1a1a;
            color: #0f0;
            font-family: 'Courier New', monospace;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        #stage {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            text-shadow: 0 0 10px currentColor;
            white-space: pre;
            line-height: 1.2;
        }
        
        .actor {
            position: absolute;
            transition: all 0.5s ease;
            cursor: pointer;
        }
        
        .actor:hover {
            transform: scale(1.2);
            text-shadow: 0 0 20px currentColor;
        }
        
        #dialogue {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border: 2px solid #0f0;
            border-radius: 10px;
            font-size: 1.2em;
            max-width: 600px;
            text-align: center;
            display: none;
        }
        
        #controls {
            background: #0a0a0a;
            border-top: 2px solid #0f0;
            padding: 20px;
            display: flex;
            gap: 20px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        button {
            padding: 10px 20px;
            background: #000;
            color: #0f0;
            border: 2px solid #0f0;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #0f0;
            color: #000;
            box-shadow: 0 0 15px #0f0;
        }
        
        #title {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2em;
            text-align: center;
            animation: glow 2s ease-in-out infinite;
        }
        
        @keyframes glow {
            0%, 100% { text-shadow: 0 0 10px #0f0; }
            50% { text-shadow: 0 0 20px #0f0, 0 0 30px #0f0; }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .bounce { animation: bounce 1s infinite; }
        .spin { animation: spin 2s linear infinite; }
        .shake { animation: shake 0.5s infinite; }
        
        #curtain {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                90deg,
                #800000,
                #800000 20px,
                #600000 20px,
                #600000 40px
            );
            transform: translateY(-100%);
            transition: transform 2s ease;
            z-index: 100;
        }
        
        .curtain-down {
            transform: translateY(0) !important;
        }
        
        #ascii-art {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.8em;
            color: #0f0;
            display: none;
            white-space: pre;
            line-height: 1;
        }
    </style>
</head>
<body>
    <div id="curtain"></div>
    
    <div id="title">
        ÔΩ°ÔΩ•:*:ÔΩ•Ôæü‚òÖ,ÔΩ°ÔΩ•:*:ÔΩ•Ôæü‚òÜ Kaomoji Theater ‚òÜÔæüÔΩ•:*:ÔΩ•ÔΩ°,‚òÖÔæüÔΩ•:*:ÔΩ•ÔΩ°
    </div>
    
    <div id="stage">
        <div id="ascii-art"></div>
    </div>
    
    <div id="dialogue"></div>
    
    <div id="controls">
        <button onclick="startShow()">üé≠ ÈñãÊºî</button>
        <button onclick="playScene('happy')">üòä „Éè„ÉÉ„Éî„Éº</button>
        <button onclick="playScene('battle')">‚öîÔ∏è „Éê„Éà„É´</button>
        <button onclick="playScene('dance')">üíÉ „ÉÄ„É≥„Çπ</button>
        <button onclick="playScene('love')">‚ù§Ô∏è „É©„Éñ„Çπ„Éà„Éº„É™„Éº</button>
        <button onclick="playScene('adventure')">üó∫Ô∏è ÂÜíÈô∫</button>
        <button onclick="randomScene()">üé≤ „É©„É≥„ÉÄ„É†</button>
        <button onclick="clearStage()">üßπ „ÇØ„É™„Ç¢</button>
    </div>
    
    <script>
        const kaomojis = {
            happy: ['(‚óï‚Äø‚óï)', '(ÔΩ°‚óï‚Äø‚óïÔΩ°)', '(‚ó†‚Äø‚ó†)', '(Ôæâ‚óï„ÉÆ‚óï)Ôæâ*:ÔΩ•Ôæü‚úß', '(¬¥‚àÄÔΩÄ)', '„ÉΩ(¬¥‚ñΩÔΩÄ)/'],
            sad: ['(‚ï•Ôπè‚ï•)', '(ÔΩ°‚Ä¢ÃÅÔ∏ø‚Ä¢ÃÄÔΩ°)', '(T_T)', '(;_;)', '(ÔΩ°‚ïØÔ∏µ‚ï∞ÔΩ°)', '(„Å£ÀòÃ©‚ï≠‚ïÆÀòÃ©)„Å£'],
            angry: ['(‚ï¨‡≤†Áõä‡≤†)', '(‡≤†_‡≤†)', '(#Ôæü–îÔæü)', '(‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª', '(„Éé‡≤†Áõä‡≤†)„Éé', 'Âá∏(‡≤†_‡≤†)Âá∏'],
            love: ['(‚ô•œâ‚ô•*)', '(¬¥‚ô°‚Äø‚ô°`)', '(ÔΩ°‚ô•‚Äø‚ô•ÔΩ°)', '‚ô°(”¶ÔΩñ”¶ÔΩ°)', '(‚óç‚Ä¢·¥ó‚Ä¢‚óç)‚ù§', '(*¬¥œâÔΩÄ*)'],
            surprised: ['(¬∞o¬∞)', '(‚äô_‚äô)', '(¬∞‚ñ°¬∞)', 'Œ£(¬∞‚ñ≥¬∞|||)', '(„Çúo„Çú)', '(@_@)'],
            cool: ['(‚åê‚ñ†_‚ñ†)', '(‚Ä¢_‚Ä¢)', '( ‚Ä¢_‚Ä¢)>‚åê‚ñ†-‚ñ†', '(‚òûÔæü„ÉÆÔæü)‚òû', '(ÔΩ°‚ô•‚Äø‚ô•ÔΩ°)', '‚ï∞(‚ñî‚àÄ‚ñî)‚ïØ'],
            animals: [' ï‚Ä¢·¥•‚Ä¢ î', '(=^ÔΩ•œâÔΩ•^=)', '(ÔΩ•œâÔΩ•)', '‚à™ÔΩ•œâÔΩ•‚à™', '(‚óï·¥•‚óï)', '‡∏Ö^‚Ä¢Ôªå‚Ä¢^‡∏Ö'],
            action: ['·ïï( ·êõ )·ïó', '(‡∏á ‚Ä¢ÃÄ_‚Ä¢ÃÅ)‡∏á', '(‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØ', 'Ôºº(^o^)Ôºè', '(Ôæâ¬¥‚àÄÔΩÄ*)', '‚îî(ÔºæÔºæ)‚îê'],
            special: ['¬Ø\\_(„ÉÑ)_/¬Ø', '(¬¨‚Äø¬¨)', '( Õ°¬∞ Õú ñ Õ°¬∞)', '(‚òûÔæü„ÉÆÔæü)‚òû ‚òú(Ôæü„ÉÆÔæü‚òú)', '(‚óî_‚óî)', '(¬¨_¬¨)']
        };
        
        const scenes = {
            happy: {
                title: '„Éè„ÉÉ„Éî„Éº„Éë„Éº„ÉÜ„Ç£„Éº',
                actors: ['(Ôæâ‚óï„ÉÆ‚óï)Ôæâ*:ÔΩ•Ôæü‚úß', '„ÉΩ(¬¥‚ñΩÔΩÄ)/', '(‚óï‚Äø‚óï)'],
                dialogue: ['„Åø„Çì„Å™„ÄúÔºÅ„Éë„Éº„ÉÜ„Ç£„Éº„Å†„ÇàÔºÅ', '„Çè„Éº„ÅÑÔºÅÊ•Ω„Åó„ÅÑ„Å≠ÔºÅ', 'ÊúÄÈ´ò„ÅÆ‰∏ÄÊó•„Å†ÔºÅ'],
                animation: 'bounce'
            },
            battle: {
                title: 'Ê±∫Èóò„ÅÆÊôÇ',
                actors: ['(‡∏á ‚Ä¢ÃÄ_‚Ä¢ÃÅ)‡∏á', '(‚ï¨‡≤†Áõä‡≤†)', '(‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª'],
                dialogue: ['ÂãùË≤†„Å†ÔºÅ', '„Åã„Åã„Å£„Å¶„Åì„ÅÑÔºÅ', '„ÉÜ„Éº„Éñ„É´„Å≤„Å£„Åè„ÇäËøî„Åô„ÅûÔºÅ'],
                animation: 'shake'
            },
            dance: {
                title: '„ÉÄ„É≥„Çπ„Çø„Ç§„É†',
                actors: ['‚ô™(‚îå„Éª„ÄÇ„Éª)‚îå', '‚îî(„Éª„ÄÇ„Éª)‚îò‚ô™', '·ïï( ·êõ )·ïó'],
                dialogue: ['Ë∏ä„Çç„ÅÜÔºÅ', '„É™„Ç∫„É†„Å´‰πó„Å£„Å¶ÔºÅ', '„ÉÄ„É≥„Çπ„Éï„É≠„Ç¢„ÅØ‰ø∫„ÅÆ„ÇÇ„ÅÆÔºÅ'],
                animation: 'bounce'
            },
            love: {
                title: '„É©„Éñ„Çπ„Éà„Éº„É™„Éº',
                actors: ['(‚ô•œâ‚ô•*)', '(¬¥‚ô°‚Äø‚ô°`)', '(ÔΩ°‚ô•‚Äø‚ô•ÔΩ°)'],
                dialogue: ['ÊÑõ„Åó„Å¶„Çã...', '„Åö„Å£„Å®‰∏ÄÁ∑í„Å†„Çà', '„Ç≠„É•„É≥„Ç≠„É•„É≥„Åô„Çã„Äú'],
                animation: 'bounce'
            },
            adventure: {
                title: 'Â§ßÂÜíÈô∫',
                actors: ['·ïï( ·êõ )·ïó', '(‚åê‚ñ†_‚ñ†)', ' ï‚Ä¢·¥•‚Ä¢ î'],
                dialogue: ['ÂÜíÈô∫„Å´Âá∫Áô∫„Å†ÔºÅ', '„ÇØ„Éº„É´„Å´Ë°å„Åì„ÅÜ„Åú', '„ÇØ„Éû„ÇÇ‰∏ÄÁ∑í„Å†„ÇàÔºÅ'],
                animation: 'bounce'
            }
        };
        
        const asciiArts = {
            star: `
    ‚òÜ.ÔΩ°.:*„Éª„Çú‚òÜ.ÔΩ°.:*„Éª„Çú‚òÜ.ÔΩ°.:*„Éª„Çú‚òÜ.ÔΩ°.:*„Éª„Çú‚òÜ
           ‚òÖ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ‚òÖ
          ‚òÖ‚òÖ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ‚òÖ‚òÖ
         ‚òÖ‚òÖ‚òÖ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ‚òÖ‚òÖ‚òÖ
        ‚òÖ‚òÖ‚òÖ‚òÖ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ‚òÖ‚òÖ‚òÖ‚òÖ
       ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ
      ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ„ÄÄ„ÄÄ„ÄÄ„ÄÄ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ
     ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ„ÄÄ„ÄÄ„ÄÄ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ
    ‚òÜ.ÔΩ°.:*„Éª„Çú‚òÜ.ÔΩ°.:*„Éª„Çú‚òÜ.ÔΩ°.:*„Éª„Çú‚òÜ.ÔΩ°.:*„Éª„Çú‚òÜ`,
            
            heart: `
           ‚ô•‚ô•       ‚ô•‚ô•
         ‚ô•‚ô•‚ô•‚ô•‚ô•   ‚ô•‚ô•‚ô•‚ô•‚ô•
       ‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô• ‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•
       ‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•
        ‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•
          ‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•‚ô•
            ‚ô•‚ô•‚ô•‚ô•‚ô•
              ‚ô•`,
              
            tree: `
              üåü
             /|\\
            /*|*\\
           /***|***\\
          /*****|*****\\
         /*******|*******\\
        /*********|*********\\
             |||
           __|_|__`
        };
        
        let currentActors = [];
        let dialogueIndex = 0;
        let dialogueTimer;
        
        function startShow() {
            const curtain = document.getElementById('curtain');
            curtain.classList.add('curtain-down');
            
            setTimeout(() => {
                curtain.classList.remove('curtain-down');
                showAsciiArt('star');
                setTimeout(() => {
                    document.getElementById('ascii-art').style.display = 'none';
                    playScene('happy');
                }, 3000);
            }, 100);
        }
        
        function showAsciiArt(type) {
            const artElement = document.getElementById('ascii-art');
            artElement.textContent = asciiArts[type] || asciiArts.star;
            artElement.style.display = 'block';
        }
        
        function playScene(sceneName) {
            clearStage();
            const scene = scenes[sceneName];
            if (!scene) return;
            
            document.getElementById('title').textContent = scene.title;
            const stage = document.getElementById('stage');
            
            scene.actors.forEach((actor, index) => {
                const actorDiv = document.createElement('div');
                actorDiv.className = `actor ${scene.animation}`;
                actorDiv.textContent = actor;
                actorDiv.style.left = `${20 + index * 30}%`;
                actorDiv.style.top = `${40 + Math.sin(index) * 20}%`;
                actorDiv.style.color = `hsl(${index * 120}, 100%, 50%)`;
                actorDiv.style.animationDelay = `${index * 0.2}s`;
                
                actorDiv.addEventListener('click', () => {
                    actorDiv.style.transform = 'scale(2) rotate(360deg)';
                    setTimeout(() => {
                        actorDiv.style.transform = 'scale(1)';
                    }, 500);
                });
                
                stage.appendChild(actorDiv);
                currentActors.push(actorDiv);
            });
            
            // ÂØæË©±„ÇíË°®Á§∫
            dialogueIndex = 0;
            showDialogue(scene.dialogue);
        }
        
        function showDialogue(dialogues) {
            if (!dialogues || dialogues.length === 0) return;
            
            const dialogueElement = document.getElementById('dialogue');
            dialogueElement.style.display = 'block';
            
            clearInterval(dialogueTimer);
            dialogueTimer = setInterval(() => {
                dialogueElement.textContent = dialogues[dialogueIndex];
                dialogueIndex = (dialogueIndex + 1) % dialogues.length;
                
                // „É©„É≥„ÉÄ„É†„Å™È°îÊñáÂ≠ó„ÇíËøΩÂä†
                const randomKaomoji = getRandomKaomoji();
                dialogueElement.textContent += ' ' + randomKaomoji;
            }, 2000);
            
            dialogueElement.textContent = dialogues[0] + ' ' + getRandomKaomoji();
        }
        
        function getRandomKaomoji() {
            const allKaomojis = Object.values(kaomojis).flat();
            return allKaomojis[Math.floor(Math.random() * allKaomojis.length)];
        }
        
        function randomScene() {
            const sceneNames = Object.keys(scenes);
            const randomSceneName = sceneNames[Math.floor(Math.random() * sceneNames.length)];
            playScene(randomSceneName);
        }
        
        function clearStage() {
            currentActors.forEach(actor => actor.remove());
            currentActors = [];
            document.getElementById('dialogue').style.display = 'none';
            clearInterval(dialogueTimer);
            document.getElementById('ascii-art').style.display = 'none';
        }
        
        // „Ç≠„Éº„Éú„Éº„Éâ„Ç∑„Éß„Éº„Éà„Ç´„ÉÉ„Éà
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case '1': playScene('happy'); break;
                case '2': playScene('battle'); break;
                case '3': playScene('dance'); break;
                case '4': playScene('love'); break;
                case '5': playScene('adventure'); break;
                case 'r': randomScene(); break;
                case 'c': clearStage(); break;
                case ' ': startShow(); break;
            }
        });
        
        // ÂàùÊúü„É°„ÉÉ„Çª„Éº„Ç∏
        setTimeout(() => {
            const stage = document.getElementById('stage');
            stage.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 2em; margin-bottom: 20px;">
                        \\(^o^)/
                    </div>
                    <div style="font-size: 1em; color: #0f0;">
                        „Çà„ÅÜ„Åì„Åù Kaomoji Theater „Å∏ÔºÅ<br>
                        „ÄåÈñãÊºî„Äç„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶„Ç∑„Éß„Éº„ÇíÂßã„ÇÅ„Çà„ÅÜÔºÅ<br><br>
                        „Ç≠„Éº„Éú„Éº„Éâ„Ç∑„Éß„Éº„Éà„Ç´„ÉÉ„ÉàÔºö<br>
                        1-5: „Ç∑„Éº„É≥ÈÅ∏Êäû | R: „É©„É≥„ÉÄ„É† | C: „ÇØ„É™„Ç¢ | Space: ÈñãÊºî
                    </div>
                </div>
            `;
        }, 100);
    </script>
</body>
</html>