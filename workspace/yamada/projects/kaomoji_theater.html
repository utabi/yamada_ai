<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaomoji Theater - é¡”æ–‡å­—åŠ‡å ´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #1a1a1a;
            color: #0f0;
            font-family: 'Courier New', monospace;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        #stage {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            text-shadow: 0 0 10px currentColor;
            white-space: pre;
            line-height: 1.2;
        }
        
        .actor {
            position: absolute;
            transition: all 0.5s ease;
            cursor: pointer;
        }
        
        .actor:hover {
            transform: scale(1.2);
            text-shadow: 0 0 20px currentColor;
        }
        
        #dialogue {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border: 2px solid #0f0;
            border-radius: 10px;
            font-size: 1.2em;
            max-width: 600px;
            text-align: center;
            display: none;
        }
        
        #controls {
            background: #0a0a0a;
            border-top: 2px solid #0f0;
            padding: 20px;
            display: flex;
            gap: 20px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        button {
            padding: 10px 20px;
            background: #000;
            color: #0f0;
            border: 2px solid #0f0;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #0f0;
            color: #000;
            box-shadow: 0 0 15px #0f0;
        }
        
        #title {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2em;
            text-align: center;
            animation: glow 2s ease-in-out infinite;
        }
        
        @keyframes glow {
            0%, 100% { text-shadow: 0 0 10px #0f0; }
            50% { text-shadow: 0 0 20px #0f0, 0 0 30px #0f0; }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .bounce { animation: bounce 1s infinite; }
        .spin { animation: spin 2s linear infinite; }
        .shake { animation: shake 0.5s infinite; }
        
        #curtain {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                90deg,
                #800000,
                #800000 20px,
                #600000 20px,
                #600000 40px
            );
            transform: translateY(-100%);
            transition: transform 2s ease;
            z-index: 100;
        }
        
        .curtain-down {
            transform: translateY(0) !important;
        }
        
        #ascii-art {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.8em;
            color: #0f0;
            display: none;
            white-space: pre;
            line-height: 1;
        }
    </style>
</head>
<body>
    <div id="curtain"></div>
    
    <div id="title">
        ï½¡ï½¥:*:ï½¥ï¾Ÿâ˜…,ï½¡ï½¥:*:ï½¥ï¾Ÿâ˜† Kaomoji Theater â˜†ï¾Ÿï½¥:*:ï½¥ï½¡,â˜…ï¾Ÿï½¥:*:ï½¥ï½¡
    </div>
    
    <div id="stage">
        <div id="ascii-art"></div>
    </div>
    
    <div id="dialogue"></div>
    
    <div id="controls">
        <button onclick="startShow()">ğŸ­ é–‹æ¼”</button>
        <button onclick="playScene('happy')">ğŸ˜Š ãƒãƒƒãƒ”ãƒ¼</button>
        <button onclick="playScene('battle')">âš”ï¸ ãƒãƒˆãƒ«</button>
        <button onclick="playScene('dance')">ğŸ’ƒ ãƒ€ãƒ³ã‚¹</button>
        <button onclick="playScene('love')">â¤ï¸ ãƒ©ãƒ–ã‚¹ãƒˆãƒ¼ãƒªãƒ¼</button>
        <button onclick="playScene('adventure')">ğŸ—ºï¸ å†’é™º</button>
        <button onclick="randomScene()">ğŸ² ãƒ©ãƒ³ãƒ€ãƒ </button>
        <button onclick="clearStage()">ğŸ§¹ ã‚¯ãƒªã‚¢</button>
    </div>
    
    <script>
        const kaomojis = {
            happy: ['(â—•â€¿â—•)', '(ï½¡â—•â€¿â—•ï½¡)', '(â— â€¿â— )', '(ï¾‰â—•ãƒ®â—•)ï¾‰*:ï½¥ï¾Ÿâœ§', '(Â´âˆ€ï½€)', 'ãƒ½(Â´â–½ï½€)/'],
            sad: ['(â•¥ï¹â•¥)', '(ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)', '(T_T)', '(;_;)', '(ï½¡â•¯ï¸µâ•°ï½¡)', '(ã£Ë˜Ì©â•­â•®Ë˜Ì©)ã£'],
            angry: ['(â•¬à² ç›Šà² )', '(à² _à² )', '(#ï¾ŸĞ”ï¾Ÿ)', '(â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»', '(ãƒà² ç›Šà² )ãƒ', 'å‡¸(à² _à² )å‡¸'],
            love: ['(â™¥Ï‰â™¥*)', '(Â´â™¡â€¿â™¡`)', '(ï½¡â™¥â€¿â™¥ï½¡)', 'â™¡(Ó¦ï½–Ó¦ï½¡)', '(â—â€¢á´—â€¢â—)â¤', '(*Â´Ï‰ï½€*)'],
            surprised: ['(Â°oÂ°)', '(âŠ™_âŠ™)', '(Â°â–¡Â°)', 'Î£(Â°â–³Â°|||)', '(ã‚œoã‚œ)', '(@_@)'],
            cool: ['(âŒâ– _â– )', '(â€¢_â€¢)', '( â€¢_â€¢)>âŒâ– -â– ', '(â˜ï¾Ÿãƒ®ï¾Ÿ)â˜', '(ï½¡â™¥â€¿â™¥ï½¡)', 'â•°(â–”âˆ€â–”)â•¯'],
            animals: ['Ê•â€¢á´¥â€¢Ê”', '(=^ï½¥Ï‰ï½¥^=)', '(ï½¥Ï‰ï½¥)', 'âˆªï½¥Ï‰ï½¥âˆª', '(â—•á´¥â—•)', 'à¸…^â€¢ï»Œâ€¢^à¸…'],
            action: ['á••( á› )á•—', '(à¸‡ â€¢Ì€_â€¢Ì)à¸‡', '(â•¯Â°â–¡Â°ï¼‰â•¯', 'ï¼¼(^o^)ï¼', '(ï¾‰Â´âˆ€ï½€*)', 'â””(ï¼¾ï¼¾)â”'],
            special: ['Â¯\\_(ãƒ„)_/Â¯', '(Â¬â€¿Â¬)', '( Í¡Â° ÍœÊ– Í¡Â°)', '(â˜ï¾Ÿãƒ®ï¾Ÿ)â˜ â˜œ(ï¾Ÿãƒ®ï¾Ÿâ˜œ)', '(â—”_â—”)', '(Â¬_Â¬)']
        };
        
        const scenes = {
            happy: {
                title: 'ãƒãƒƒãƒ”ãƒ¼ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼',
                actors: ['(ï¾‰â—•ãƒ®â—•)ï¾‰*:ï½¥ï¾Ÿâœ§', 'ãƒ½(Â´â–½ï½€)/', '(â—•â€¿â—•)'],
                dialogue: ['ã¿ã‚“ãªã€œï¼ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ã ã‚ˆï¼', 'ã‚ãƒ¼ã„ï¼æ¥½ã—ã„ã­ï¼', 'æœ€é«˜ã®ä¸€æ—¥ã ï¼'],
                animation: 'bounce'
            },
            battle: {
                title: 'æ±ºé—˜ã®æ™‚',
                actors: ['(à¸‡ â€¢Ì€_â€¢Ì)à¸‡', '(â•¬à² ç›Šà² )', '(â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»'],
                dialogue: ['å‹è² ã ï¼', 'ã‹ã‹ã£ã¦ã“ã„ï¼', 'ãƒ†ãƒ¼ãƒ–ãƒ«ã²ã£ãã‚Šè¿”ã™ãï¼'],
                animation: 'shake'
            },
            dance: {
                title: 'ãƒ€ãƒ³ã‚¹ã‚¿ã‚¤ãƒ ',
                actors: ['â™ª(â”Œãƒ»ã€‚ãƒ»)â”Œ', 'â””(ãƒ»ã€‚ãƒ»)â”˜â™ª', 'á••( á› )á•—'],
                dialogue: ['è¸Šã‚ã†ï¼', 'ãƒªã‚ºãƒ ã«ä¹—ã£ã¦ï¼', 'ãƒ€ãƒ³ã‚¹ãƒ•ãƒ­ã‚¢ã¯ä¿ºã®ã‚‚ã®ï¼'],
                animation: 'bounce'
            },
            love: {
                title: 'ãƒ©ãƒ–ã‚¹ãƒˆãƒ¼ãƒªãƒ¼',
                actors: ['(â™¥Ï‰â™¥*)', '(Â´â™¡â€¿â™¡`)', '(ï½¡â™¥â€¿â™¥ï½¡)'],
                dialogue: ['æ„›ã—ã¦ã‚‹...', 'ãšã£ã¨ä¸€ç·’ã ã‚ˆ', 'ã‚­ãƒ¥ãƒ³ã‚­ãƒ¥ãƒ³ã™ã‚‹ã€œ'],
                animation: 'bounce'
            },
            adventure: {
                title: 'å¤§å†’é™º',
                actors: ['á••( á› )á•—', '(âŒâ– _â– )', 'Ê•â€¢á´¥â€¢Ê”'],
                dialogue: ['å†’é™ºã«å‡ºç™ºã ï¼', 'ã‚¯ãƒ¼ãƒ«ã«è¡Œã“ã†ãœ', 'ã‚¯ãƒã‚‚ä¸€ç·’ã ã‚ˆï¼'],
                animation: 'bounce'
            }
        };
        
        const asciiArts = {
            star: `
    â˜†.ï½¡.:*ãƒ»ã‚œâ˜†.ï½¡.:*ãƒ»ã‚œâ˜†.ï½¡.:*ãƒ»ã‚œâ˜†.ï½¡.:*ãƒ»ã‚œâ˜†
           â˜…ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€â˜…
          â˜…â˜…ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€â˜…â˜…
         â˜…â˜…â˜…ã€€ã€€ã€€ã€€ã€€ã€€ã€€â˜…â˜…â˜…
        â˜…â˜…â˜…â˜…ã€€ã€€ã€€ã€€ã€€ã€€â˜…â˜…â˜…â˜…
       â˜…â˜…â˜…â˜…â˜…ã€€ã€€ã€€ã€€ã€€â˜…â˜…â˜…â˜…â˜…
      â˜…â˜…â˜…â˜…â˜…â˜…ã€€ã€€ã€€ã€€â˜…â˜…â˜…â˜…â˜…â˜…
     â˜…â˜…â˜…â˜…â˜…â˜…â˜…ã€€ã€€ã€€â˜…â˜…â˜…â˜…â˜…â˜…â˜…
    â˜†.ï½¡.:*ãƒ»ã‚œâ˜†.ï½¡.:*ãƒ»ã‚œâ˜†.ï½¡.:*ãƒ»ã‚œâ˜†.ï½¡.:*ãƒ»ã‚œâ˜†`,
            
            heart: `
           â™¥â™¥       â™¥â™¥
         â™¥â™¥â™¥â™¥â™¥   â™¥â™¥â™¥â™¥â™¥
       â™¥â™¥â™¥â™¥â™¥â™¥â™¥ â™¥â™¥â™¥â™¥â™¥â™¥â™¥
       â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥
        â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥
          â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥
            â™¥â™¥â™¥â™¥â™¥
              â™¥`,
              
            tree: `
              ğŸŒŸ
             /|\\
            /*|*\\
           /***|***\\
          /*****|*****\\
         /*******|*******\\
        /*********|*********\\
             |||
           __|_|__`
        };
        
        let currentActors = [];
        let dialogueIndex = 0;
        let dialogueTimer;
        
        function startShow() {
            const curtain = document.getElementById('curtain');
            curtain.classList.add('curtain-down');
            
            setTimeout(() => {
                curtain.classList.remove('curtain-down');
                showAsciiArt('star');
                setTimeout(() => {
                    document.getElementById('ascii-art').style.display = 'none';
                    playScene('happy');
                }, 3000);
            }, 100);
        }
        
        function showAsciiArt(type) {
            const artElement = document.getElementById('ascii-art');
            artElement.textContent = asciiArts[type] || asciiArts.star;
            artElement.style.display = 'block';
        }
        
        function playScene(sceneName) {
            clearStage();
            const scene = scenes[sceneName];
            if (!scene) return;
            
            document.getElementById('title').textContent = scene.title;
            const stage = document.getElementById('stage');
            
            scene.actors.forEach((actor, index) => {
                const actorDiv = document.createElement('div');
                actorDiv.className = `actor ${scene.animation}`;
                actorDiv.textContent = actor;
                actorDiv.style.left = `${20 + index * 30}%`;
                actorDiv.style.top = `${40 + Math.sin(index) * 20}%`;
                actorDiv.style.color = `hsl(${index * 120}, 100%, 50%)`;
                actorDiv.style.animationDelay = `${index * 0.2}s`;
                
                actorDiv.addEventListener('click', () => {
                    actorDiv.style.transform = 'scale(2) rotate(360deg)';
                    setTimeout(() => {
                        actorDiv.style.transform = 'scale(1)';
                    }, 500);
                });
                
                stage.appendChild(actorDiv);
                currentActors.push(actorDiv);
            });
            
            // å¯¾è©±ã‚’è¡¨ç¤º
            dialogueIndex = 0;
            showDialogue(scene.dialogue);
        }
        
        function showDialogue(dialogues) {
            if (!dialogues || dialogues.length === 0) return;
            
            const dialogueElement = document.getElementById('dialogue');
            dialogueElement.style.display = 'block';
            
            clearInterval(dialogueTimer);
            dialogueTimer = setInterval(() => {
                dialogueElement.textContent = dialogues[dialogueIndex];
                dialogueIndex = (dialogueIndex + 1) % dialogues.length;
                
                // ãƒ©ãƒ³ãƒ€ãƒ ãªé¡”æ–‡å­—ã‚’è¿½åŠ 
                const randomKaomoji = getRandomKaomoji();
                dialogueElement.textContent += ' ' + randomKaomoji;
            }, 2000);
            
            dialogueElement.textContent = dialogues[0] + ' ' + getRandomKaomoji();
        }
        
        function getRandomKaomoji() {
            const allKaomojis = Object.values(kaomojis).flat();
            return allKaomojis[Math.floor(Math.random() * allKaomojis.length)];
        }
        
        function randomScene() {
            const sceneNames = Object.keys(scenes);
            const randomSceneName = sceneNames[Math.floor(Math.random() * sceneNames.length)];
            playScene(randomSceneName);
        }
        
        function clearStage() {
            currentActors.forEach(actor => actor.remove());
            currentActors = [];
            document.getElementById('dialogue').style.display = 'none';
            clearInterval(dialogueTimer);
            document.getElementById('ascii-art').style.display = 'none';
        }
        
        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case '1': playScene('happy'); break;
                case '2': playScene('battle'); break;
                case '3': playScene('dance'); break;
                case '4': playScene('love'); break;
                case '5': playScene('adventure'); break;
                case 'r': randomScene(); break;
                case 'c': clearStage(); break;
                case ' ': startShow(); break;
            }
        });
        
        // åˆæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        setTimeout(() => {
            const stage = document.getElementById('stage');
            stage.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 2em; margin-bottom: 20px;">
                        \\(^o^)/
                    </div>
                    <div style="font-size: 1em; color: #0f0;">
                        ã‚ˆã†ã“ã Kaomoji Theater ã¸ï¼<br>
                        ã€Œé–‹æ¼”ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‚·ãƒ§ãƒ¼ã‚’å§‹ã‚ã‚ˆã†ï¼<br><br>
                        ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼š<br>
                        1-5: ã‚·ãƒ¼ãƒ³é¸æŠ | R: ãƒ©ãƒ³ãƒ€ãƒ  | C: ã‚¯ãƒªã‚¢ | Space: é–‹æ¼”
                    </div>
                </div>
            `;
        }, 100);
    </script>
</body>
</html>